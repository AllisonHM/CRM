{% extends "base.html" %}
{% block title %}Mesas de Negócio{% endblock %}

{% block content %}

<style>
    .titulo-pagina {
        font-size: 2rem;
        font-weight: 700;
        margin-bottom: 25px;
        color: #080808;
        letter-spacing: 1px;
    }

    .mesa-table {
        width: 100%;
        border-collapse: separate;
        border-spacing: 0 4px; /* Espaçamento entre as linhas */
    }

    .mesa-table thead th {
        background: #252a33;
        color: #f9f8f8;
        font-weight: 600;
        padding: 14px;
        border: none;
        text-align: left;
    }

    .mesa-row {
        background: #252a33;
        transition: 0.2s;
    }

    .mesa-row:hover {
        background: #2d333d;
        transform: scale(1.005);
    }

    .mesa-table td {
        padding: 16px 18px; /* Espaçamento maior entre colunas */
        color: #e5e5e5;
        border-top: 1px solid #2f3640;
        border-bottom: 1px solid #2f3640;
    }

    .btn-editar {
        background: #000000;
        color: #ffffff;
        padding: 8px 14px;
        border-radius: 6px;
        text-decoration: none;
        font-weight: 600;
        transition: 0.2s;
    }

    .btn-editar:hover {
        background: #000000;
    }

    .voltar-menu {
        display: inline-block;
        margin-top: 25px;
        background: #3a3f47;
        padding: 10px 18px;
        border-radius: 6px;
        color: #ddd;
        text-decoration: none;
        font-weight: 500;
    }

    .voltar-menu:hover {
        background: #4a505a;
    }
</style>

<h1 class="titulo-pagina">Mesas de Negócio</h1>

<div class="table-responsive">
    <table class="mesa-table">
        <thead>
            <tr>
                <th>Cliente</th>
                <th>Tópico</th>
                <th>Produtos</th>
                <th>Descrição</th>
                <th>Situação</th>
                <th>Valor</th>
                <th>Data</th>
                <th>Hora</th>
                <th>Ações</th>
            </tr>
        </thead>

        <tbody>
            {% for m in mesas %}
            <tr class="mesa-row">
                <td>{{ m.cliente.nome }}</td>
                <td>{{ m.topico }}</td>
                <td>{{ m.produtos }}</td>
                <td>{{ m.descricao }}</td>
                <td>{{ m.situacao }}</td>
                <td>R$ {{ m.valor_total }}</td>
                <td>{{ m.data_registro }}</td>
                <td>{{ m.hora_registro }}</td>
                <td>
                    {% if m.situacao == "Em negociação" %}
                    <a class="btn-editar" href="{{ url_for('detalhe_mesa', id=m.id) }}">
                        Editar / Adicionar Info
                    </a>
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<a href="{{ url_for('menu') }}" class="voltar-menu">⬅ Voltar ao Menu</a>

{% endblock %}
